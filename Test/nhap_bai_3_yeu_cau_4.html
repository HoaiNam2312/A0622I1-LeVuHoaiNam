<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function main() {

        let arr1 = prompt('Nhập 1 dãy ký tự bất kỳ: ').split('');
        let arr2 = prompt('Nhập 1 dãy ký tự bất kỳ: ').split('');
        let arr3 = [];

        arr1 = ghepSoLienKe(arr1);
        arr2 = ghepSoLienKe(arr2);

        for (let i = 0; i < arr1.length; i++) {             // Kiểm tra phần tử chung mảng 1 so với mảng 2 rồi thêm các PT chung vào mảng 3
            kiemTRa(arr1[i], arr2, arr3);
        }

        for (let j = 0; j < arr2.length; j++) {             // Kiểm tra phần tử chung mảng 2 so với mảng 1 rồi thêm các PT chung vào mảng 3
            kiemTRa(arr2[j], arr1, arr3);
        }

        for (let k = 0; k < arr3.length; k++) {            // Loại bỏ các phần tử chung trong mảng 3
            for (let h = k+1; h < arr3.length; h++) {
                if (arr3[k]==arr3[h]){
                    arr3.splice(k,1);
                    k--;
                    break;
                }
            }
        }
        alert(arr3);
    }

    main();

    function ghepSoLienKe (arr) {
        let tmp = [];
        for (let i = 0; i < arr.length; i++) {
            //let j= i;
            let str= arr[i];
            while (arr[i]==arr[i+1]){
                str += arr[i+1];
                //j++;
                i++;
            }
            tmp.push(str);
        }
        return tmp;
    };

    function kiemTRa(str, arr, arr3) {
        let mangTach = [];
        for (let i = 0; i < str.length; i++) { // tách 1 chuỗi 'aaaa' thành 1 mảng: ['aaaa','aaa','aa','a']
            mangTach.push(str.substr(i));
        }
        loop1:
        for (let i = 0; i < mangTach.length; i++) {
            loop2:
            for (let j = 0; j < arr.length; j++) {
                if (mangTach[i]==arr[j]){
                    arr3.push(mangTach[i]);
                    break loop1;
                }
            }
        }
    }
</script>
</body>
</html>